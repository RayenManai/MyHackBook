Search.setIndex({"docnames": ["Active Directory/attacking-ad/index", "Active Directory/attacking-ad/initial-attack-vectors/index", "Active Directory/attacking-ad/initial-attack-vectors/ipv6-attacks", "Active Directory/attacking-ad/initial-attack-vectors/llmnr-poisoning", "Active Directory/attacking-ad/initial-attack-vectors/passback-attacks", "Active Directory/attacking-ad/initial-attack-vectors/smb-relay", "Active Directory/basics", "Active Directory/index", "Blogs/index", "Scripts and Tools/index", "Web App Pentesting/index", "Web App Pentesting/xss", "Writeups/index", "index", "start-here"], "filenames": ["Active Directory/attacking-ad/index.md", "Active Directory/attacking-ad/initial-attack-vectors/index.md", "Active Directory/attacking-ad/initial-attack-vectors/ipv6-attacks.md", "Active Directory/attacking-ad/initial-attack-vectors/llmnr-poisoning.md", "Active Directory/attacking-ad/initial-attack-vectors/passback-attacks.md", "Active Directory/attacking-ad/initial-attack-vectors/smb-relay.md", "Active Directory/basics.md", "Active Directory/index.md", "Blogs/index.md", "Scripts and Tools/index.md", "Web App Pentesting/index.md", "Web App Pentesting/xss.md", "Writeups/index.md", "index.md", "start-here.md"], "titles": ["Attacking AD", "Initial Attack Vectors", "IPv6 Attacks", "LLMNR Poisoning", "Passback Attacks", "SMB Relay", "Basics", "Active Directory", "Blogs", "Scripts and Tools", "Web App Pentesting", "Cross-Site Scripting (XSS)", "Writeups", "My Hack Book", "-&gt; Start Here"], "terms": {"thi": [0, 1, 3, 5, 6, 7, 10, 14], "section": [0, 7, 10, 13], "contain": [0, 6, 7], "note": [0, 7], "activ": [0, 1, 3, 6, 13, 14], "directori": [0, 1, 3, 6, 13, 14], "initi": [0, 3, 7], "vector": [0, 3, 7], "start": [0, 5, 13], "posit": 0, "goal": 0, "methodologi": 0, "gain": [0, 5], "shell": [0, 5], "access": [0, 3, 5, 6], "The": [1, 3, 5, 6], "step": 1, "i": [1, 6], "typic": [1, 5], "an": [1, 6], "intern": 1, "network": [1, 5, 6], "either": 1, "physic": 1, "connect": [1, 3], "via": [1, 6], "vpn": 1, "valid": 1, "credenti": [1, 6], "At": 1, "point": [1, 3, 5], "can": [1, 6], "observ": 1, "traffic": [1, 3, 5], "scan": 1, "host": [1, 3, 6], "servic": [1, 3, 6], "attempt": [1, 3, 5], "exploit": 1, "weak": 1, "protocol": [1, 3, 5, 6], "misconfigur": 1, "default": [1, 5, 6], "essenti": 1, "thei": [1, 3, 5, 6], "ar": [1, 3, 5, 6], "outsid": 1, "trust": [1, 6], "boundari": [1, 6], "critic": 1, "system": [1, 3, 5, 6], "insid": [1, 3], "perimet": 1, "foothold": 1, "obtain": [1, 3], "password": [1, 3, 5], "ntlm": [1, 5], "hash": [1, 5], "least": [1, 5], "one": [1, 5, 6], "machin": [1, 3, 5, 6], "allow": [1, 3, 5, 6], "interact": 1, "establish": 1, "persist": 1, "set": 1, "up": 1, "condit": [1, 3], "later": [1, 3], "movement": [1, 3], "privileg": [1, 3, 5, 6], "escal": [1, 3], "toward": 1, "higher": 1, "valu": [1, 3, 5], "target": [1, 5], "domain": [1, 3, 6], "control": [1, 6], "sensit": [1, 3], "server": [1, 3, 5, 6], "llmnr": [1, 5], "nbt": [1, 3], "n": [1, 3], "poison": [1, 5], "run": [1, 6], "respond": [1, 5], "mimt6": 1, "captur": [1, 3, 5], "broadcast": [1, 3], "authent": [1, 3, 5, 7], "request": [1, 3], "gener": [1, 6], "conduct": 1, "e": [1, 5], "g": [1, 5], "nessu": 1, "provok": 1, "devic": [1, 6], "perform": [1, 3], "web": [1, 13, 14], "reconnaiss": 1, "identifi": 1, "websit": 1, "check": 1, "type": [1, 6], "version": 1, "expos": 1, "endpoint": 1, "test": [1, 10], "printer": [1, 5], "jenkin": 1, "other": [1, 3, 5, 6], "manag": [1, 3, 5, 6], "interfac": 1, "harvest": 1, "collect": [1, 6], "cleartext": 1, "login": 1, "think": 1, "creativ": 1, "look": [1, 3], "overlook": 1, "legaci": [1, 6], "unconvent": 1, "document": 1, "keep": 1, "track": 1, "potenti": 1, "path": 1, "common": [1, 3, 10], "intial": 1, "environ": [1, 3, 5, 6], "smb": [1, 3], "relai": [1, 3], "ipv6": 1, "passback": 1, "onc": 1, "ha": [1, 3, 5], "crack": [1, 5], "leverag": 1, "them": [1, 5], "remot": 1, "directli": [1, 5], "us": [1, 3, 5, 6, 14], "tool": [1, 13, 14], "like": [1, 6], "metasploit": 1, "impacket": [1, 5], "facilit": 1, "process": [1, 5], "often": [1, 3, 5, 6], "base": [1, 6, 11], "execut": [1, 5], "techniqu": [1, 3, 10], "With": 1, "psexec": 1, "modul": 1, "window": [1, 3, 5, 6], "usernam": [1, 3, 5], "pair": 1, "lm": [1, 5], "nt": [1, 5], "workflow": 1, "involv": 1, "rhost": 1, "smbdomain": 1, "user": [1, 5, 6], "smbuser": 1, "smbpass": 1, "spawn": 1, "meterpret": 1, "session": 1, "give": 1, "enabl": [1, 3, 5], "pass": [1, 5], "bypass": 1, "need": [1, 6], "msfconsol": 1, "search": [1, 14], "payload": 1, "x64": 1, "reverse_tcp": 1, "10": [1, 3, 5], "0": [1, 3, 5], "2": 1, "16": 1, "marvel": 1, "local": [1, 3, 5, 6], "fcastl": [1, 5], "password1": 1, "similar": 1, "function": [1, 6], "avail": 1, "script": [1, 5, 10, 13, 14], "py": 1, "wmiexec": 1, "smbexec": 1, "These": [1, 3, 6], "command": 1, "administr": [1, 5, 6], "ip": [1, 3, 5], "link": 3, "multicast": 3, "name": [3, 5, 6], "resolut": 3, "resolv": 3, "hostnam": 3, "when": [3, 5, 6], "dn": 3, "queri": 3, "fail": 3, "It": [3, 5, 6], "without": 3, "reli": [3, 6], "nearbi": 3, "while": 3, "intend": [3, 5], "fallback": 3, "mechan": [3, 6], "conveni": 3, "introduc": 3, "signific": 3, "secur": [3, 5, 6], "risk": 3, "compromis": 3, "same": [3, 6], "listen": 3, "fals": 3, "inform": [3, 5, 6], "trick": 3, "victim": 3, "send": 3, "": [3, 5, 14], "ntlmv2": 3, "which": [3, 5], "brute": 3, "forc": 3, "main": [3, 6], "its": [3, 6], "predecessor": 3, "intercept": [3, 5], "make": [3, 5], "effect": [3, 5], "entri": [3, 5], "poorli": 3, "harden": 3, "sudo": [3, 5], "eth0": [3, 5], "dwp": 3, "malici": 3, "includ": [3, 5], "adress": 3, "In": [3, 5], "our": [3, 5], "lab": [3, 5], "scenario": 3, "we": [3, 5], "simul": [3, 5], "15": [3, 5], "address": 3, "top": 3, "bar": [3, 14], "file": [3, 5, 6], "take": 3, "hashcat": 3, "m": 3, "5600": 3, "hashfil": 3, "txt": [3, 5], "wordlist": 3, "show": 3, "primari": [3, 5], "strategi": [3, 5], "disabl": [3, 5], "across": 3, "sinc": [3, 5], "rare": 3, "necessari": 3, "well": 3, "enforc": 3, "strong": 3, "infrastructur": 3, "ensur": 3, "do": [3, 5], "fall": 3, "back": [3, 5], "insecur": 3, "method": [3, 5], "addition": 3, "sign": [3, 6], "extend": 3, "protect": 3, "reduc": [3, 5], "polici": [3, 6], "multifactor": 3, "limit": 3, "monitor": 3, "suspici": 3, "unusu": 3, "help": 3, "detect": 3, "ongo": 3, "segment": [3, 5], "also": 3, "abil": 3, "http": [3, 5], "tcm": [3, 5], "sec": [3, 5], "com": [3, 5], "how": [3, 5, 14], "prevent": [3, 5], "messag": 5, "block": 5, "share": [5, 6], "primarili": 5, "resourc": [5, 6], "over": [5, 6], "support": 5, "those": 5, "anoth": 5, "instead": 5, "offlin": 5, "reus": 5, "real": 5, "time": 5, "unauthor": 5, "achiev": 5, "code": 5, "vulner": [5, 10], "becaus": 5, "doe": 5, "bind": 5, "client": 5, "verifi": 5, "integr": 5, "insert": 5, "themselv": 5, "must": 5, "have": [5, 6], "right": 5, "meaning": 5, "impact": 5, "cannot": 5, "origin": 5, "from": 5, "strength": 5, "success": 5, "notabl": 5, "most": [5, 6], "suscept": 5, "nmap": 5, "smb2": 5, "mode": 5, "nse": 5, "p445": 5, "pn": 5, "first": 5, "forward": 5, "nlmrelayx": 5, "vim": 5, "etc": 5, "conf": 5, "switch": 5, "off": 5, "dwv": 5, "ntlmrelayx": 5, "tf": 5, "smb2support": 5, "occurr": 5, "thepunish": 5, "admin": [5, 6], "spiderman": 5, "so": 5, "dump": 5, "sam": 5, "account": [5, 6], "databas": 5, "store": [5, 6, 11], "represent": 5, "extract": 5, "each": [5, 6], "follow": [5, 6], "format": 5, "rid": 5, "guest": 5, "rel": 5, "uniqu": 5, "number": 5, "associ": 5, "For": 5, "exampl": [5, 7], "500": 5, "usual": 5, "correspond": 5, "built": 5, "501": 5, "1000": 5, "creat": [5, 6], "old": 5, "lan": 5, "modern": 5, "appear": 5, "placehold": 5, "aad3b435b51404eeaad3b435b51404e": 5, "deriv": 5, "actual": 5, "all": [5, 6], "where": 5, "possibl": 5, "kerbero": [5, 6], "prefer": 5, "restrict": 5, "appli": [5, 6], "principl": 5, "solut": 6, "corpor": 6, "centralis": 6, "A": 6, "group": 6, "comput": 6, "repres": 6, "repositori": 6, "call": 6, "dc": 6, "d": 6, "phone": 6, "book": 6, "about": 6, "person": 6, "organis": 6, "employe": 6, "mssql": 6, "join": 6, "respres": 6, "through": 6, "object": 6, "assign": 6, "dollar": 6, "devid": 6, "categori": 6, "workstat": 6, "util": 6, "daili": 6, "work": 6, "should": 6, "provid": 6, "grant": 6, "specif": 6, "import": 6, "ones": 6, "descript": 6, "entir": 6, "oper": 6, "instal": 6, "Their": 6, "copi": 6, "author": 6, "data": 6, "ntd": 6, "dit": 6, "onli": 6, "schema": 6, "defin": 6, "everi": 6, "organiz": 6, "unit": 6, "ou": 6, "mainli": 6, "wherea": 6, "permiss": 6, "gpo": 6, "tree": 6, "hierarchi": 6, "namespac": 6, "parent": 6, "come": 6, "handi": 6, "larg": 6, "organ": 6, "multipl": 6, "independ": 6, "differ": 6, "countri": 6, "regul": 6, "two": 6, "wai": 6, "transit": 6, "forest": 6, "more": 6, "compani": 6, "merg": 6, "cooper": 6, "union": 6, "inord": 6, "ticket": 6, "mutual": 6, "netntlm": 6, "challeng": 6, "respons": 6, "ad": [7, 13], "breach": 7, "enumer": 7, "defens": 7, "basic": [7, 13], "terminologi": 7, "compon": 7, "attack": [7, 13], "cover": 10, "found": 10, "dure": 10, "applic": 10, "penetr": 10, "cross": [10, 13], "site": [10, 13], "xss": [10, 13], "reflect": 11, "dom": 11, "alert": 11, "1": 11, "welcom": 13, "choos": 13, "below": 13, "here": 13, "app": [13, 14], "pentest": [13, 14], "blog": [13, 14], "writeup": 13, "If": 14, "you": 14, "re": 14, "new": 14, "wiki": 14, "navig": 14, "sidebar": 14, "quickli": 14, "jump": 14, "topic": 14}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"attack": [0, 1, 2, 3, 4, 5], "ad": [0, 3, 5, 6], "initi": 1, "vector": 1, "start": [1, 14], "posit": 1, "goal": 1, "methodologi": 1, "gain": 1, "shell": 1, "access": 1, "ipv6": 2, "llmnr": 3, "poison": 3, "what": [3, 5], "i": [3, 5], "can": [3, 5], "go": [3, 5], "wrong": [3, 5], "here": [3, 5, 14], "requir": [3, 5], "step": [3, 5], "1": [3, 5], "run": 3, "respond": 3, "2": [3, 5], "an": [3, 5], "event": [3, 5], "occur": [3, 5], "network": 3, "trigger": 3, "3": [3, 5], "crack": 3, "hash": 3, "offlin": 3, "mitig": [3, 5], "refer": [3, 5], "passback": 4, "smb": 5, "relai": 5, "identifi": 5, "workstat": 5, "without": 5, "sign": 5, "enforc": 5, "set": 5, "up": 5, "credenti": 5, "get": 5, "basic": 6, "terminologi": 6, "compon": 6, "physic": 6, "logic": 6, "exampl": 6, "authent": 6, "activ": 7, "directori": 7, "blog": 8, "script": [9, 11], "tool": 9, "web": 10, "app": 10, "pentest": 10, "cross": 11, "site": 11, "xss": 11, "type": 11, "payload": 11, "writeup": 12, "my": 13, "hack": 13, "book": 13, "content": 13}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 58}, "alltitles": {"Attacking AD": [[0, "attacking-ad"]], "Initial Attack Vectors": [[1, "initial-attack-vectors"]], "Starting Position and Goals": [[1, "starting-position-and-goals"]], "Methodology": [[1, "methodology"]], "Gaining Shell Access": [[1, "gaining-shell-access"]], "IPv6 Attacks": [[2, "ipv6-attacks"]], "LLMNR Poisoning": [[3, "llmnr-poisoning"]], "What is LLMNR?": [[3, "what-is-llmnr"]], "What can go wrong here?": [[3, "what-can-go-wrong-here"], [5, "what-can-go-wrong-here"]], "Attack Requirements": [[3, "attack-requirements"], [5, "attack-requirements"]], "LLMNR Poisoning in AD": [[3, "llmnr-poisoning-in-ad"]], "Step 1: Attacker runs responder": [[3, "step-1-attacker-runs-responder"]], "Step 2: An Event Occurs in the Network and Triggers LLMNR": [[3, "step-2-an-event-occurs-in-the-network-and-triggers-llmnr"]], "Step 3: Cracking the hash offline": [[3, "step-3-cracking-the-hash-offline"]], "Mitigations": [[3, "mitigations"], [5, "mitigations"]], "References": [[3, "references"], [5, "references"]], "Passback Attacks": [[4, "passback-attacks"]], "SMB Relay": [[5, "smb-relay"]], "What is SMB?": [[5, "what-is-smb"]], "SMB Relay in AD": [[5, "smb-relay-in-ad"]], "Step 1: Identifying workstations without SMB Signing Enforced": [[5, "step-1-identifying-workstations-without-smb-signing-enforced"]], "Step 2: Setting up the attack": [[5, "step-2-setting-up-the-attack"]], "Step 3: An Event Occurs and Credentials Get Relayed": [[5, "step-3-an-event-occurs-and-credentials-get-relayed"]], "Basics": [[6, "basics"]], "Terminology": [[6, "terminology"]], "AD Components": [[6, "ad-components"]], "Physical Components": [[6, "physical-components"]], "Logical Components": [[6, "logical-components"]], "Example": [[6, "example"]], "Authentication": [[6, "authentication"]], "Active Directory": [[7, "active-directory"]], "Blogs": [[8, "blogs"]], "Scripts and Tools": [[9, "scripts-and-tools"]], "Web App Pentesting": [[10, "web-app-pentesting"]], "Cross-Site Scripting (XSS)": [[11, "cross-site-scripting-xss"]], "Types": [[11, "types"]], "Payloads": [[11, "payloads"]], "Writeups": [[12, "writeups"]], "My Hack Book": [[13, "my-hack-book"]], "Contents": [[13, null]], "-> Start Here": [[14, "start-here"]]}, "indexentries": {}})